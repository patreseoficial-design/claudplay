<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>ClaudPlay</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:#0b0b0b;
  color:#fff;
  font-family:Arial, sans-serif;
}

.topo{
  padding:16px 20px;
  background:#101010;
}

.logo{
  font-size:20px;
  font-weight:bold;
}

.menu{
  margin-top:6px;
  font-size:14px;
  color:#9f9f9f;
  cursor:pointer;
}

.menu:hover{
  color:#6b00ff;
}

.container{
  padding:20px;
  display:none;
}

.carrossel-items{
  display:flex;
  gap:16px;
  overflow-x:auto;
}

.item{
  min-width:220px;
  aspect-ratio:16/9;
  border-radius:14px;
  overflow:hidden;
  cursor:pointer;
  background:#000;
}

.item img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.jogoArea{
  display:none;
  position:fixed;
  inset:0;
  background:#000;
  z-index:999;
  justify-content:center;
  align-items:center;
}

.iframeJogo{
  width:95vw;
  height:85vh;
  max-width:980px;
  max-height:720px;
  border:none;
}

.btnFechar{
  position:absolute;
  top:12px;
  left:12px;
  background:#6b00ff;
  color:#fff;
  border:none;
  padding:8px 14px;
  border-radius:10px;
  cursor:pointer;
}

.loadingOverlay{
  display:none;
  position:fixed;
  inset:0;
  background:#000;
  z-index:1000;
  justify-content:center;
  align-items:center;
}
</style>
</head>

<body>

<div class="topo">
  <div class="logo">ClaudPlay</div>
  <div class="menu" onclick="abrirSuperNintendo()">Todos os jogos</div>
</div>

<div class="container">
  <h2>Super Nintendo</h2>
  <div class="carrossel-items"></div>
</div>

<div class="jogoArea">
  <button class="btnFechar" onclick="fecharJogo()">Fechar</button>
  <iframe class="iframeJogo"></iframe>
</div>

<div class="loadingOverlay">
  <h2>Carregando jogo...</h2>
</div>

<script>
const container = document.querySelector(".container");
const carrossel = document.querySelector(".carrossel-items");

function abrirSuperNintendo(){
  container.style.display = "block";
  carregarJogos();
}

function carregarJogos(){
  fetch("Emuladores/SuperNintendo/games.json")
    .then(res => res.json())
    .then(jogos => {
      carrossel.innerHTML = "";
      jogos.forEach(jogo => {
        const div = document.createElement("div");
        div.className = "item";
        div.innerHTML = `<img src="${jogo.banner}" alt="${jogo.nome}">`;
        div.onclick = () => abrirJogo(jogo);
        carrossel.appendChild(div);
      });
    });
}

function abrirJogo(jogo){
  document.querySelector(".loadingOverlay").style.display="flex";
  document.querySelector(".jogoArea").style.display="flex";

  document.querySelector(".iframeJogo").src =
    "Emuladores/SuperNintendo/snes.html?rom=" +
    encodeURIComponent(jogo.rom);

  setTimeout(()=>{
    document.querySelector(".loadingOverlay").style.display="none";
  },1200);
}

function fecharJogo(){
  document.querySelector(".jogoArea").style.display="none";
  document.querySelector(".iframeJogo").src="";
}
</script>

</body>
</html>