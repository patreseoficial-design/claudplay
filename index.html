<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ClaudPlay</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

<header class="topo">
  <div class="logo">ClaudPlay ðŸŽ®</div>
  <div class="beta">BETA</div>
</header>

<main class="container">

  <!-- BANNER PRINCIPAL -->
  <a href="javascript:void(0)" class="banner" id="bannerPrincipal">
    <div class="banner-img">
      <img src="Banner/mario_banner.jpeg" id="bannerImg" />
    </div>

    <div class="banner-info">
      <h1 id="bannerTitle">Super Mario World</h1>
      <p id="bannerDesc">Jogue direto no navegador</p>
    </div>
  </a>

  <!-- CARROSSEL -->
  <section class="carrossel">
    <div class="carrossel-title">
      <h2>Jogos</h2>
      <div class="carrossel-arrows">
        <button id="prev">âŸµ</button>
        <button id="next">âŸ¶</button>
      </div>
    </div>

    <div class="carrossel-items" id="carrossel">

      <!-- SNES -->
      <a class="item" tabindex="0"
        data-title="Super Mario World"
        data-desc="ClÃ¡ssico absoluto do Super Nintendo"
        data-img="Banner/mario_banner.jpeg"
        data-link="Emuladores/SuperNintendo/snes.html?rom=SuperMarioWorld.sfc">
        <img src="Banner/mario_banner.jpeg">
      </a>

      <a class="item" tabindex="0"
        data-title="Yoshiâ€™s Island"
        data-desc="Super Mario World 2"
        data-img="Banner/bannersupermariowolrd.jpeg"
        data-link="Emuladores/SuperNintendo/snes.html?rom=SuperMarioWorld2.sfc">
        <img src="Banner/bannersupermariowolrd.jpeg">
      </a>

      <a class="item" tabindex="0"
        data-title="Donkey Kong Country"
        data-desc="ClÃ¡ssico do SNES"
        data-img="Banner/bannerdonkeykong.jpeg"
        data-link="Emuladores/SuperNintendo/snes.html?rom=DonkeyKongCountry.sfc">
        <img src="Banner/bannerdonkeykong.jpeg">
      </a>

      <a class="item" tabindex="0"
        data-title="Super Mario Kart"
        data-desc="Corridas clÃ¡ssicas"
        data-img="Banner/bannersupermariokart.jpeg"
        data-link="Emuladores/SuperNintendo/snes.html?rom=SuperMarioKart.sfc">
        <img src="Banner/bannersupermariokart.jpeg">
      </a>

      <!-- NES -->
      <a class="item" tabindex="0"
        data-title="Bomberman"
        data-desc="ClÃ¡ssico do NES"
        data-img="Banner/bannerbomberman.jpeg"
        data-link="Emuladores/Nes/nes.html?rom=Bomberman.nes">
        <img src="Banner/bannerbomberman.jpeg">
      </a>

      <!-- MEGA DRIVE -->
      <a class="item" tabindex="0"
        data-title="Aladdin"
        data-desc="ClÃ¡ssico do Mega Drive"
        data-img="Banner/aladdin.jpeg"
        data-link="Emuladores/MegaDrive/megadrive.html?rom=roms/ALADDIN.ZIP">
        <img src="Banner/aladdin.jpeg">
      </a>

      <!-- NINTENDO 64 -->
      <a class="item" tabindex="0"
        data-title="Nintendo 64"
        data-desc="International Superstar Soccer 64"
        data-img="Banner/bannerfutebol64.jpeg"
        data-link="Emuladores/Nintendo64/n64.html?rom=InternationalSuperstarSoccer64.n64">
        <img src="Banner/bannerfutebol64.jpeg">
      </a>

      <!-- GAME BOY -->
      <a class="item" tabindex="0"
        data-title="Super Mario Land 2"
        data-desc="6 Golden Coins"
        data-img="Banner/bannersupermarioland2-6golden.jpg"
        data-link="Emuladores/GameBoy/gameboy.html?rom=SuperMarioLand2-6GoldenCoins.gb">
        <img src="Banner/bannersupermarioland2-6golden.jpg">
      </a>

    </div>
  </section>
</main>

<footer class="rodape">
  <p>VersÃ£o Beta â€¢ ClaudPlay Â©</p>
</footer>

<!-- ÃREA DO JOGO -->
<div id="jogoArea" style="display:none; position:fixed; inset:0; background:#000; z-index:999;">
  <button onclick="fecharJogo()"
    style="position:absolute;top:10px;left:10px;z-index:1000;
    padding:8px 14px;background:#6b00ff;color:#fff;
    border:none;border-radius:10px;">
    â¬… Fechar
  </button>

  <iframe id="iframeJogo" style="width:100%;height:100%;border:none;"></iframe>
</div>

<div id="loadingOverlay"
  style="display:none;position:fixed;inset:0;background:#000;
  z-index:1000;color:#fff;display:flex;
  justify-content:center;align-items:center;">
  Carregando jogo...
</div>

<script>
const itens = document.querySelectorAll(".item");
const bannerImg = document.getElementById("bannerImg");
const bannerTitle = document.getElementById("bannerTitle");
const bannerDesc = document.getElementById("bannerDesc");
let indexAtual = 0;

function mudarBanner(i){
  bannerImg.src = itens[i].dataset.img;
  bannerTitle.innerText = itens[i].dataset.title;
  bannerDesc.innerText = itens[i].dataset.desc;
}

document.getElementById("prev").onclick = () => {
  indexAtual = (indexAtual - 1 + itens.length) % itens.length;
  mudarBanner(indexAtual);
};

document.getElementById("next").onclick = () => {
  indexAtual = (indexAtual + 1) % itens.length;
  mudarBanner(indexAtual);
};

itens.forEach((item, i) => {
  item.addEventListener("click", () => {
    indexAtual = i;
    mudarBanner(i);
    abrirJogo(item.dataset.link);
  });

  item.addEventListener("focus", () => {
    indexAtual = i;
    mudarBanner(i);
  });
});

document.getElementById("bannerPrincipal").onclick = () => {
  abrirJogo(itens[indexAtual].dataset.link);
};

function abrirJogo(url){
  loadingOverlay.style.display = "flex";
  jogoArea.style.display = "block";
  iframeJogo.src = url;

  iframeJogo.onload = () => {
    loadingOverlay.style.display = "none";
  };
}

function fecharJogo(){
  jogoArea.style.display = "none";
  iframeJogo.src = "";
}

/* ===== CONTROLE / TV ===== */
const focaveis = Array.from(document.querySelectorAll('.item'));
let focoIndex = 0;
focaveis[0].focus();

document.addEventListener('keydown', e => {
  const colunas = window.innerWidth >= 1024 ? 5 : 2;

  if (e.key === 'ArrowRight') focoIndex++;
  if (e.key === 'ArrowLeft') focoIndex--;
  if (e.key === 'ArrowDown') focoIndex += colunas;
  if (e.key === 'ArrowUp') focoIndex -= colunas;
  if (e.key === 'Enter') focaveis[focoIndex].click();

  focoIndex = Math.max(0, Math.min(focoIndex, focaveis.length - 1));
  focaveis[focoIndex].focus();
});
</script>

</body>
</html>